# Input File Examples

This module demonstrates how to ingest communities, domains, assets, relations, etc from CSV, Excel and JSON files into your Collibra environment.

This module is dependent on import-api-java-client. So, please build that module before you try to build this module.
___
1. `$ git clone https://github.com/collibra/import-api-examples.git`
1. Edit [**config.properties**](../import-api-java-client/src/main/resources/config.properties) in **import-api-java-client\sr\main\resources**
1. `$ gradle clean build` to compile the code and run the unit tests in Input-File-Examples module.
___

## Table of contents
1. [Project Structure](#project-structure)
1. [Project Configuration](#project-configuration)
1. [Test](#tests)
1. [Collibra developer terms](#collibra-developer-terms)
1. [Additional resources](#additional-resources)

## Project Structure

This module has the following classes and resources:
- [DataImporter class](src/main/java/com/collibra/importer/app/DataImporter.java) that has utility methods to import CSV, Excel and JSON files. This class
  invokes the generated Importer API client methods. This class also has a submit method that takes an internal model object 'AssetImportCommand' as an argument 
  to demonstrate how we could leverage the model objects generated by the OpenAPI generator and import assets.
- [DataImporterTest class](src/test/java/com/collibra/importer/app/DataImporterTest.java) that reads files from sub-folders in [resources directory](src/test/resources) and tests the data import. 
  The files that are used to test is configured in [config.properties](../import-api-java-client/src/main/resources/config.properties). This class also tests importing assets using model object 'AssetImportCommand'.
- A series of [import example files](src/test/resources/README.md) that has all example files to help you get started with the Collibra Import API.

## Project configuration

The configuration properties are located in the [**config.properties**](../import-api-java-client/src/main/resources/config.properties) file.
All properties are required to run the DataImporterTest.

**Import API Client Configuration to test Example files** 

Parameter | Description | Example
--- | --- | ---
collibra.import-client-csv-folder | Folder of the CSV file to import | add-community-domain-assets-relations
collibra.import-client-csv-file | CSV file to import | relations.csv
collibra.import-client-csv-template-file | JSON Template file used to import CSV file | relations-template.json
collibra.import-client-excel-folder | Folder of the Excel file to import | change-assets
collibra.import-client-excel-file | Excel file to import | schema-tables-columns-updated.xlsx
collibra.import-client-excel-template-file | JSON Template file used to import Excel file | schema-tables-columns-updated-template.json
collibra.import-client-json-folder| Folder of the JSON file to import | add-community-domain-assets-relations
collibra.import-client-json-file | JSON file to import | relations.json

## Tests

- To run an import using files in the example folder execute the
  [DataImporterTest](src/test/java/com/collibra/importer/app/DataImporterTest.java) test.
- To run all the tests, invoke `gradle test`. 
  

## Collibra developer terms

This repository is part of the Collibra Developer Toolkit. By using or accessing
the Developer Toolkit, you agree to the [Collibra Developer Terms](https://www.collibra.com/developer-terms).

<a name="resources"></a>
## Additional resources

- [Collibra Developer Portal](https://developer.collibra.com/)
- [Collibra Documentation](https://community.collibra.com/documentation/)
- [Collibra](https://www.collibra.com/)
- [Policy Center](https://www.collibra.com/policies/)

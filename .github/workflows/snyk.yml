name: Snyk Open Source Test
on:
  push:
    branches:
      - main
      - 'release/**'
      - DEV-103106-integrate-Snyk-without-npm
  schedule:
    # * is a special character in YAML so you have to quote this string
    - cron:  '0 0 * * *' # nightly at midnight
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
  snyk:
    uses: collibra/snyk-templates/blob/main/.github/workflows/snyk-gradle.yml@main
    with:
      snyk-org: "KnowledgeGraphEngine"
      snyk-working-directory: ${{ inputs.snyk-working-directory }}
      snyk-test-additional-params: ${{ inputs.snyk-test-additional-params }}
    secrets: inherit
